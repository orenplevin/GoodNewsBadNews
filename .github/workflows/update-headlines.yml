- name: Create basic all_headlines.json if missing
  run: |
    if [ ! -f "docs/data/all_headlines.json" ] && [ -f "docs/data/latest.json" ]; then
      echo "📝 Creating all_headlines.json from latest.json..."
      python3 <<'EOF'
import json
import os
from datetime import datetime
# ... Python script continues ...
try:
    # Load and process latest.json
    # ...
    print(f"✅ Created all_headlines.json with {len(processed_headlines)} headlines")
except Exception as e:
    print(f"❌ Error: {e}")
    exit(0)  # Don't fail the workflow
EOF
    else
      echo "✅ all_headlines.json already exists or no source data available"
    fi
